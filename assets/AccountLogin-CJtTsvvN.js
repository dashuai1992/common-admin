import{g as U,a2 as A,D as u,A as B,W as m,o as g,c as z,b as c,l as e,w as t,X as w,k as F,s as N,a4 as p}from"./index-D3qh6ehu.js";import{l as S,E as q,a as I,b as M,c as P}from"./login-BZ37zEIU.js";import{E as D,d as O}from"./el-button-BxCmU416.js";import"./el-badge-BL01Rluc.js";import"./typescript-Bp3YSIOJ.js";import"./index-BSLn6bY8.js";const T=c("div",null,[c("h1",{style:{"margin-bottom":"0"}},"账号密码登录"),c("p",{style:{"margin-top":"0",color:"#848486"}},"MORECUP的小伙伴，请输入您的账号登录")],-1),W={style:{"margin-top":"3rem"}},Q=U({__name:"AccountLogin",setup(X){const h=A(),n=u({account:"",password:""}),d=B(),y=u({account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),r=u({show:!1,msg:""}),k=()=>{r.show=!1,r.msg=""},V=()=>{p.push({name:"MobileLogin"})},v=async s=>{s&&await s.validate(o=>{o&&C()})},C=()=>{S(n).then(s=>{if(s.code!=="0"){r.show=!0,r.msg=s.msg;return}h.setUserPermissions(s.data);let o=p.currentRoute.value.query.to;o||(o="/"),p.replace({path:o})})};return(s,o)=>{const E=m("User"),i=D,_=q,l=I,b=m("Lock"),f=O,x=m("Right"),L=M,R=P;return g(),z("div",null,[T,c("div",W,[e(L,{model:n,rules:y,ref_key:"ruleFormRef",ref:d},{default:t(()=>[e(l,{prop:"account"},{default:t(()=>[e(_,{size:"large",modelValue:n.account,"onUpdate:modelValue":o[0]||(o[0]=a=>n.account=a),placeholder:"请输入账号"},{prefix:t(()=>[e(i,{class:"el-input__icon"},{default:t(()=>[e(E)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l,{prop:"password"},{default:t(()=>[e(_,{type:"password",size:"large",modelValue:n.password,"onUpdate:modelValue":o[1]||(o[1]=a=>n.password=a),placeholder:"请输入密码"},{prefix:t(()=>[e(i,{class:"el-input__icon"},{default:t(()=>[e(b)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l,null,{default:t(()=>[e(f,{style:{width:"100%"},type:"primary",size:"large",round:"",onClick:o[2]||(o[2]=a=>v(d.value))},{default:t(()=>[w("登录")]),_:1})]),_:1}),e(l,null,{default:t(()=>[e(f,{onClick:V,style:{width:"100%"},type:"primary",size:"large",link:""},{default:t(()=>[w(" 手机号登录"),e(i,null,{default:t(()=>[e(x)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),r.show?(g(),F(R,{key:0,title:"登录失败",description:r.msg,type:"error","show-icon":"",onClose:k},null,8,["description"])):N("",!0)])])}}});export{Q as default};
